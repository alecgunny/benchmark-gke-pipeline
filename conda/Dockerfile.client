FROM python:3.8-slim-buster

ENV DEBIAN_FRONTEND="noninteractive"
RUN pip install \
        attrs \
        google-cloud-storage \
        numpy \
        nvidia-pyindex \
        pandas \
        requests \
        tblib \
        git+https://github.com/alecgunny/stillwater@multistream && \
    pip install tritonclient[all]

ENV HOME=/home/docker
WORKDIR /home/docker
ADD client.py /home/docker/client.py
ENTRYPOINT ["python", "client.py"]